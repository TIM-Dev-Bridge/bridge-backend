<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="button" onclick="player1()" value="player1()">
    <input type="button" onclick="player2()" value="player2()">
    <input type="button" onclick="createTour()" value="createTour()">
    <input type="button" onclick="manageRoom()" value="manageRoom()">
    <input type="button" onclick="joinTeam()" value="joinTeam()">
    <input type="button" onclick="joinTour()" value="joinTour()">
    <input type="button" onclick="player1invite2()" value="player1invite2()">
    <input type="button" onclick="player2recieve1()" value="player2recieve1()">
    <input type="button" onclick="GetTour()" value="GetTour()">

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.1/socket.io.js"></script>
<script>
    const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjE4YzA3OWIwM2JlYzIzODNkNjY0OTNhIiwiZW1haWwiOiJ0ZXN0MUBlbWFpbC5jb20iLCJpYXQiOjE2MzY3MjgzMDIsImV4cCI6MTYzNjczNTUwMn0.uQ4t9PbcyTm8bA6Q40Ye7XT1VrK8vlnQ-gCON39wqjg"
    function player1() {
        //var socket = io.connect({ query: { token, userName } })
        const username = "Mark"
        var socket = io.connect({ query: { username } })
        socket.emit('join-tour', 'Mark', 'tour-f1')
    }
    function player2() {
        var socket = io.connect({ username: "Tae" })
        socket.emit('join-tour', 'Tae', 'tour-f1')
    }
    function player1invite2() {
        socket.emit('invite-team', "tour-f1", 'Mark', 'Tae')
    }
    function player2recieve1() {
        socket.emit('recieve-team', "tour-f1", 'Tae', 'Mark')
    }
    function createTour() {
        var userName = "td1"
        var tourdata = {
            tour_name: "tour-f1",
            max_player: 20,
            type: "Pairs",
            password: "123",
            player_name: [],
            player_team: [],
            time_start: "11/21/2021, 9:30:00 PM",
            status: "Pending",
            board_to_play: 2,
            minute_board: 2,
            board_round: 1,
            movement: "Clocked",
            scoring: "MP",
            barometer: true,
            createBy: userName,
        }
        //const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjE4YzA3OWIwM2JlYzIzODNkNjY0OTNhIiwiZW1haWwiOiJ0ZXN0MUBlbWFpbC5jb20iLCJpYXQiOjE2MzY3MjgzMDIsImV4cCI6MTYzNjczNTUwMn0.uQ4t9PbcyTm8bA6Q40Ye7XT1VrK8vlnQ-gCON39wqjg"
        //var socket = io.connect({ query: { token, userName } })
        var socket = io()
        console.log('Tour 2 working');
        socket.emit("create-tour", tourdata)
    }
    function manageRoom() {
        var socket = io()
        socket.emit('manage-room', 'room1')
    }
    function joinTeam() {
        var socket = io()
        socket.emit('join-team', 'Mark', 'team1')
    }
    function joinTour() {
        const userName = "Mark"
        var socket = io.connect({ query: { token, userName } })
        socket.emit('join-tour', userName, 'tour-f1')
        socket.on('force-user', msg => {
            console.log('ll', msg);
        })
    }
    function GetTour() {
        username = 'Ice'
        var socket = io.connect({ query: { username } })
        socket.emit("get-tour-client", 'tour-f1')
        socket.on("get-tour-client", (tour_name) => {
            console.log(tour_name);
        });
    }
</script>

</html>